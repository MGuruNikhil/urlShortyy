<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>urlShortyy</title>
    <link rel="icon" href="/image.png">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <style>
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background-color: #222831;
            color: #EEEEEE;
            height: 100vh;
            overflow: hidden;
            font-family: 'Montserrat', sans-serif;
        }
        form {
            display: flex;
            justify-content: space-around;
            width: 40%;
        }
        input, button {
            padding-left: 10px;
            padding-right: 10px;
            padding-top: 5px;
            padding-bottom: 5px;
            border-radius: 5px;
            border: 1px solid #00ADB5;
        }
        input {
            width: 70%;
            height: 2rem;
            background-color: #393E46;
            color: #EEEEEE;
        }
        button {
            background-color: #00ADB5;
            color: #222831;
            cursor: pointer;
        }
        h1 {
            font-size: 3rem;
            margin-bottom: 3rem;
        }
        a {
            color: #00ADB5;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
        div {
            margin-top: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .copy {
            background-color: transparent;
            border: none;
            cursor: pointer;
            color: #00ADB5;
        }
        @media screen and (max-width: 768px) {
            form {
                width: 80%;
            }

            .copy {
                font-size: 1rem;
            }

            a::after {
                font-size: 0.6rem;
            }

            a::before {
                font-size: 1rem;
            }

            a::after, a::before {
                margin-top: 0.5rem;
            }

            a::after {
                display: none;
            }

            a::before {
                display: block;
            }

            a {
                font-size: 1rem;
            }

            div {
                margin-top: 0.5rem;
            }

            body {
                padding: 1rem;
            }
        }

        @media screen and (max-width: 480px) {
            form {
                width: 100%;
            }

            a::before {
                font-size: 0.8rem;
            }

            a {
                font-size: 0.8rem;
            }

            .copy {
                font-size: 0.8rem;
            }
        }
    </style>
</head>
<body>
    <h1>urlShortyy</h1>
    <form action="/" method="post">
        <input type="url" name="url" id="url" placeholder="Enter a long url to make it short...">
        <button type="submit">Go</button>
    </form>
    <% if(shortyy != "") { %>
        <div>
            <a href="<%= shortyy %>" target="_blank"><%= shortyy %></a>
            <button class="copy"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#00ADB5"><path d="M360-240q-33 0-56.5-23.5T280-320v-480q0-33 23.5-56.5T360-880h360q33 0 56.5 23.5T800-800v480q0 33-23.5 56.5T720-240H360Zm0-80h360v-480H360v480ZM200-80q-33 0-56.5-23.5T120-160v-560h80v560h440v80H200Zm160-240v-480 480Z"/></svg></button>
        </div>
    <% } %>
    <script>
        if('<%= shortyy %>' != "") {
            const copy = document.querySelector('.copy');
            copy.addEventListener('click', () => {
                navigator.clipboard.writeText(copy.previousElementSibling.href);
                copy.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="M382-240 154-468l57-57 171 171 367-367 57 57-424 424Z"/></svg>';
                copy.disabled = true;
                copy.style.cursor = 'default';
            });
        }
    </script>
</body>
</html>